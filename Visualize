from r3e_api import r3esharedmemory
import time

# Initialize shared memory
shared_memory = r3esharedmemory()
shared_memory.update_offsets()

while True:
    try:
        data = shared_memory.get_value('Player')
        if data is None:
            print("Failed to retrieve data.")
        else:
            # Ensure data structure is correct and key exists
            if 'Speed' not in data:
                print(f"'Speed' key not found in data: {data}")
            else:
                speed = data['Speed']  # Accessing speed from player data
                print(f"Speed: {speed}")

    except TypeError as e:
        print(f"TypeError: {e}")
    except KeyError as e:
        print(f"KeyError: {e}")
    except Exception as e:
        print(f"Unexpected error: {e}")

    time.sleep(0.5)
